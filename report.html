<html>
<head>
<script type="text/javascript" src="ext/jquery.min.js"></script>
<script type="text/javascript" src="ext/jquery.jqplot.min.js"></script>
<script type="text/javascript" src="ext/plugins/jqplot.highlighter.min.js"></script>

<link rel="stylesheet" type="text/css" href="ext/jquery.jqplot.min.css" />
<script type="text/javascript" src="ext/plugins/jqplot.cursor.min.js"></script>

<style type="text/css">
body {
	font-family: Verdana,Arial,Helvetica,sans-serif;
	font-size: 14px;
	margin: 1.2em;
}

.dna p {
	font-family: Courier;
	font-size: 6px;
	margin: 1.2em;
	white-space: pre;
}
</style>
</head>

<body>
<div id="log"></div>
<div id="graphs" style="width:700px;">
<div id="histo"></div></br>
<div id="quality"></div></br>
<div id="qhisto"></div></br>
</div>
</id>
</body>
<script>
var region=[];
var histo=[];
var qualities=[];
</script>


<script src="./data.js"></script>

<script>
$(document).ready(function(){
var plotoptions={
	axes:{yaxis:{min:0}, xaxis:{}}, 
	series:[ {color:'#1FAB78', showMarker: false, shadow: false, label: 'Depth'}, 
		{color:'#FF0078', showMarker: false, shadow: false, label:  'Fuzzy Depth'},
		{color:'#00FF78', showMarker: false, shadow: false, label:  'Control'},
		], 
	legend: {show: true},
	highlighter: {
			show: true, 
			sizeAdjust: 7.5
	},
	cursor:{ 
	        show: true,
	        zoom:true, 
	        showTooltip:false
	       } 
	 };
  
for(n=0; n < region.length; ++n) {
	$("#graphs").append('<div id="region'+n+'"></div><br/>'+region[n].annotations+'<br/><div class="dna"><p>'+region[n].picture+"</p></div><hr/>");
	plotoptions.title=region[n].name+" "+n+" ["+region[n].pos+"]"; 
	$.jqplot('region'+n,  [region[n].depth], plotoptions); 
}
 
// plotoptions.axes.xaxis.min=0;
plotoptions.title="Histogram of depth";
plotoptions.series[0].label="Frequency";
$.jqplot('histo', [histo], plotoptions);

plotoptions.axes.xaxis.min=0;
plotoptions.axes.xaxis.max=150;
plotoptions.title="Reported quality per offset of read";
plotoptions.series[0].label="Reported Q-score";
plotoptions.series[1].label="Actual Q-score";
plotoptions.series[2].label="Control Q-score";
$.jqplot('quality', [qualities,referenceQ,controlQ], plotoptions);

plotoptions.title="Distribution of Quality";
plotoptions.series[0].label="Quality";

plotoptions.axes.xaxis.min=0;
plotoptions.axes.xaxis.max=42;

$.jqplot('qhisto', [qhisto], plotoptions);
$("#log").html("<pre>"+powerdnaLog+"</pre>");
 
});
</script>
</body>
</html>
